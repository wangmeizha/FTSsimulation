<Document file="StarVMC/Geometry/SupoGeo/SupoGeo1.xml">

    <Module name="SUPOGEO1" comment="  is the geometry of the Forward TPC supports in STAR "  >
        <Author name="Holm Huemmler"  />
        <Created date="  27-Okt-99 "  />
        <CDE  >
            AGECOM
            GCONST
            GCUNIT
        </CDE>
        
        <Content  >
            SUPO,SUPL,SUPH,SLRL,SLWL,SLHD,SLXW,SLEN,SLFX,SLBL,SHRL,SHPT,SHBR,SHBK,SHFX,SHST
        </Content>
        
        <Structure name="SMAI"  >
            <var name="Version" type="float"  />
            <var name="RInner" type="float"  />
            <var name="ROuter" type="float"  />
            <var name="ZMin" type="float"  />
            <var name="ZMax" type="float"  />
            <var name="PhiMid" type="float"  />
            <var name="FixHei" type="float"  />
            <var name="FixWid" type="float"  />
            <var name="FixThk" type="float"  />
        </Structure>
        
        <Structure name="SSLO"  >
            <var name="Version" type="float"  />
            <var name="PhiMin" type="float"  />
            <var name="PhiMax" type="float"  />
            <var name="RailLen" type="float"  />
            <var name="RailWIn" type="float"  />
            <var name="RailWOut" type="float"  />
            <var name="RailHei" type="float"  />
            <var name="WallWid" type="float"  />
            <var name="WallHei" type="float"  />
            <var name="HeadThk" type="float"  />
            <var name="HeadHei" type="float"  />
            <var name="XWalThk" type="float"  />
            <var name="XWal1Pos" type="float"  />
            <var name="XWal2Pos" type="float"  />
            <var name="EndThk" type="float"  />
            <var name="EndHei" type="float"  />
            <var name="BoltPos" type="float"  />
            <var name="BoltOff" type="float"  />
            <var name="BoltRad" type="float"  />
        </Structure>
        
        <Structure name="SSHI"  >
            <var name="Version" type="float"  />
            <var name="PhiMin" type="float"  />
            <var name="PhiMax" type="float"  />
            <var name="XDist" type="float"  />
            <var name="YDist" type="float"  />
            <var name="RailWid" type="float"  />
            <var name="RailHei" type="float"  />
            <var name="PlatThk" type="float"  />
            <var name="PlatHei" type="float"  />
            <var name="BarLen" type="float"  />
            <var name="BarOffZ" type="float"  />
            <var name="BarHei" type="float"  />
            <var name="TopWid" type="float"  />
            <var name="BlocHei" type="float"  />
            <var name="BlocLen" type="float"  />
            <var name="BoltOff" type="float"  />
            <var name="StabWid" type="float"  />
            <var name="StabThk" type="float"  />
            <var name="Stab1Z" type="float"  />
            <var name="Stab2Z" type="float"  />
        </Structure>
        
        <varlist type="INTEGER"  >
            Agexist
        </varlist>
        
        <varlist type="REAL"  >
            pos,angle,shptpos,shbkpos
        </varlist>
        

        <Fill name="SMAI" comment="FTPC support envelope geometry"  >
            <var name="Version" value="1" comment=" geometry Version "  />
            <var name="RInner" value="36.4" comment=" envelope inner radius  "  />
            <var name="ROuter" value="47.5" comment=" envelope outer radius "  />
            <var name="ZMin" value="230.69" comment=" envelope minimum z value "  />
            <var name="ZMax" value="259.7" comment=" envelope maximum z value "  />
            <var name="PhiMid" value="30" comment=" angle of support center positions "  />
            <var name="FixHei" value="10.22" comment=" Height of support fixture plate (on TPC) "  />
            <var name="FixWid" value="3.79" comment=" Width of support fixture plate  "  />
            <var name="FixThk" value="2.04" comment=" Thickness of support fixture plate "  />
        </Fill>
        
        <Fill name="SSLO" comment="lower FTPC support geometry"  >
            <var name="Version" value="1" comment=" geometry Version "  />
            <var name="PhiMin" value="-6" comment=" envelope start angle "  />
            <var name="PhiMax" value="11" comment=" envelope end angle "  />
            <var name="RailLen" value="24.5" comment=" support rail length "  />
            <var name="RailWIn" value="4.07" comment=" support rail inner width "  />
            <var name="RailWOut" value="7.03" comment=" support rail outer width "  />
            <var name="RailHei" value="2.96" comment=" support rail height "  />
            <var name="WallWid" value="0.78" comment=" support wall thickness "  />
            <var name="WallHei" value="4.46" comment=" support wall height "  />
            <var name="HeadThk" value="2.68" comment=" support head thickness "  />
            <var name="HeadHei" value="7.82" comment=" support head height "  />
            <var name="XWalThk" value="0.82" comment=" cross support wall thickness "  />
            <var name="XWal1Pos" value="0.55" comment=" 1st cross support wall pos (to env center) "  />
            <var name="XWal2Pos" value="7.02" comment=" 2nd cross support wall pos (to env center) "  />
            <var name="EndThk" value="2.6" comment=" support end block thickness "  />
            <var name="EndHei" value="1.49" comment=" support end block height "  />
            <var name="BoltPos" value="44.9" comment=" support bolt radial position "  />
            <var name="BoltOff" value="1.54" comment=" support bolt offset from fixture center "  />
            <var name="BoltRad" value="1.2" comment=" effective support bolt radius "  />
        </Fill>
        
        <Fill name="SSHI" comment="upper FTPC support geometry"  >
            <var name="Version" value="1" comment=" geometry Version "  />
            <var name="PhiMin" value="38" comment=" envelope start angle "  />
            <var name="PhiMax" value="65" comment=" envelope end angle "  />
            <var name="XDist" value="34.19" comment=" distance of support to beam axis in x "  />
            <var name="YDist" value="16.39" comment=" distance of support bottom to axis in y "  />
            <var name="RailWid" value="1.75" comment=" Width of upper FTPC support rail "  />
            <var name="RailHei" value="1.93" comment=" Height of support rail  "  />
            <var name="PlatThk" value="0.41" comment=" Thickness of support plate "  />
            <var name="PlatHei" value="8.69" comment=" Height of support plate "  />
            <var name="BarLen" value="10.58" comment=" Length of support top bar "  />
            <var name="BarOffZ" value="3.22" comment=" Offset of bar from support base in z "  />
            <var name="BarHei" value="0.81" comment=" Height of support top bar "  />
            <var name="TopWid" value="2.58" comment=" Width of support top part "  />
            <var name="BlocHei" value="2.74" comment=" Height of support top block "  />
            <var name="BlocLen" value="5.5" comment=" Length of support top block "  />
            <var name="BoltOff" value="3.26" comment=" support bolt offset from fixture center "  />
            <var name="StabWid" value="1.15" comment=" Width of support stabilizers "  />
            <var name="StabThk" value="0.41" comment=" Thickness of support stabilizers "  />
            <var name="Stab1Z" value="8.32" comment=" z-position of first stabilizer "  />
            <var name="Stab2Z" value="13.58" comment=" z-position of second stabilizer "  />
        </Fill>
        
        pos=(smai_ZMin+smai_ZMax)/2 

        <Create block="SUPO"  />


        pos=(smai_ZMin+smai_ZMax)/2 
        <Placement z="-pos" konly="'MANY'" block="SUPO" in="CAVE"  >
        </Placement>
        
        <Placement z="pos" konly="'MANY'" block="SUPO" in="CAVE"  >
            <Rotation thetaz="180"  />
        </Placement>
        
        <Block name="SUPO" comment="is the FTPC support mother volume"  >

            <Material name="Air"  />
            <Medium name="Standard"  />
            <Attribute for="SUPO" seen="0" colo="1"  />
            <Shape type="TUBE" rmax="smai_ROuter" rmin="smai_RInner" dz="(smai_ZMax-smai_ZMin)/2"  />

            <Create block="SUPL"  />
            <Placement block="SUPL"  >
                <Rotation phiy="-smai_PhiMid+90" phix="-smai_PhiMid"  />
            </Placement>
            
            <Placement block="SUPL"  >
                <Rotation thetax="270" phiy="smai_PhiMid+90" phix="smai_PhiMid"  />
            </Placement>
            
            <Create block="SUPH"  />
            <Placement block="SUPH"  >
            </Placement>
            
            <Placement block="SUPH"  >
                <Rotation thetax="270"  />
            </Placement>
            

        </Block>
        


        <Block name="SUPL" comment="is the lower FTPC support mother volume"  >

            <Shape type="TUBS" rmin="smai_RInner" rmax="smai_ROuter" dz="(smai_ZMax-smai_ZMin)/2" phi2="-sslo_PhiMin" phi1="-sslo_PhiMax"  />
            <Create block="SLRL"  />
            <Placement x="(smai_RInner+sslo_RailHei/2)" z="(smai_ZMax-smai_ZMin-sslo_RailLen)/2" block="SLRL"  >
                <Rotation ort="YZX"  />
            </Placement>
            
            <Create block="SLWL"  />
            <Placement y="(sslo_RailWOut/2-sslo_WallWid/2)" x="(smai_RInner+sslo_RailHei+sslo_WallHei/2)" z="(smai_ZMax-smai_ZMin-sslo_RailLen+sslo_HeadThk)/2" block="SLWL"  >
            </Placement>
            
            <Placement y="-(sslo_RailWOut/2-sslo_WallWid/2)" x="(smai_RInner+sslo_RailHei+sslo_WallHei/2)" z="(smai_ZMax-smai_ZMin-sslo_RailLen+sslo_HeadThk)/2" block="SLWL"  >
            </Placement>
            
            <Create block="SLHD"  />
            <Placement x="(smai_RInner+sslo_RailHei+sslo_HeadHei/2)" z="(smai_ZMax-smai_ZMin+sslo_HeadThk)/2-sslo_RailLen" block="SLHD"  >
            </Placement>
            
            <Create block="SLXW"  />
            <Placement x="(smai_RInner+sslo_RailHei+sslo_WallHei/2)" z="sslo_XWal1Pos" block="SLXW"  >
            </Placement>
            
            <Placement x="(smai_RInner+sslo_RailHei+sslo_WallHei/2)" z="sslo_XWal2Pos" block="SLXW"  >
            </Placement>
            
            <Create block="SLEN"  />
            <Placement x="(smai_RInner+sslo_RailHei+sslo_EndHei/2)" z="(smai_ZMax-smai_ZMin-sslo_EndThk)/2" block="SLEN"  >
            </Placement>
            
            <Create block="SLFX"  />
            <Placement y="-sslo_BoltOff" x="sslo_BoltPos" z="(smai_ZMin-smai_ZMax+smai_FixThk)/2" block="SLFX"  >
            </Placement>
            
            <Create block="SLBL"  />
            <Placement x="sslo_BoltPos" z="(smai_FixThk-sslo_RailLen)/2" block="SLBL"  >
            </Placement>
            
        </Block>
        


        <Block name="SLRL" comment="is the lower FTPC support rail"  >

            <Material name="aluminium"  />
            <Attribute for="SLRL" seen="1" colo="2"  />
            <Shape type="TRD1" dz="sslo_RailHei/2" dx2="sslo_RailWOut/2" dx1="sslo_RailWIn/2" dy="sslo_RailLen/2"  />
        </Block>
        


        <Block name="SLWL" comment="is the lower FTPC support side wall"  >

            <Material name="aluminium"  />
            <Attribute for="SLRL" seen="1" colo="2"  />
            <Shape type="BOX" dz="sslo_RailLen/2-sslo_HeadThk/2" dx="sslo_WallHei/2" dy="sslo_WallWid/2"  />
        </Block>
        


        <Block name="SLHD" comment="is the lower FTPC support head plate (mounted to TPC)"  >

            <Material name="aluminium"  />
            <Attribute for="SLHD" seen="1" colo="2"  />
            <Shape type="BOX" dz="sslo_HeadThk/2" dx="sslo_HeadHei/2" dy="sslo_RailWOut/2"  />

        </Block>
        


        <Block name="SLXW" comment="is the lower FTPC support cross wall"  >

            <Material name="aluminium"  />
            <Attribute for="SLXW" seen="1" colo="2"  />
            <Shape type="BOX" dz="sslo_XWalThk/2" dx="sslo_WallHei/2" dy="sslo_RailWOut/2-sslo_WallWid"  />

        </Block>
        


        <Block name="SLEN" comment="is the lower FTPC support end block"  >


            <Material name="aluminium"  />
            <Attribute for="SLEN" seen="1" colo="2"  />
            <Shape type="BOX" dz="sslo_EndThk/2" dx="sslo_EndHei/2" dy="sslo_RailWOut/2-sslo_WallWid"  />

        </Block>
        


        <Block name="SLFX" comment="is the lower FTPC support fixture plate"  >

            <Material name="aluminium"  />
            <Attribute for="SLFX" seen="1" colo="2"  />
            <Shape type="BOX" dz="smai_FixThk/2" dx="smai_FixWid/2" dy="smai_FixHei/2"  />

        </Block>
        


        <Block name="SLBL" comment="is the lower FTPC support bolt"  >

            <Material name="aluminium"  />
            <Attribute for="SLBL" seen="1" colo="2"  />
            <Shape type="TUBE" rmax="sslo_BoltRad" rmin="0" dz="(smai_ZMax-smai_ZMin-sslo_RailLen-smai_FixThk)/2"  />

        </Block>
        


        <Block name="SUPH" comment="is the upper FTPC support mother volume"  >

            <Shape type="TUBS" rmin="smai_RInner" rmax="smai_ROuter" dz="(smai_ZMax-smai_ZMin)/2" phi2="90-sshi_PhiMin" phi1="90-sshi_PhiMax"  />

            <Create block="SHRL"  />
            <Placement y="sshi_YDist+sshi_RailHei/2" x="sshi_XDist+sshi_PlatThk/2-sshi_RailWid/2" block="SHRL"  >
            </Placement>
            
            <Create block="SHPT"  />
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei/2" x="sshi_XDist" z="-sshi_BarOffZ" block="SHPT"  >
                <Rotation ort="XYZ"  />
                <Rotation alphay="90"  />
            </Placement>
            
            <Create block="SHBR"  />
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei+sshi_BarHei/2" x="sshi_XDist" z="(smai_ZMin-smai_ZMax)/2+sshi_BarOffZ+sshi_BarLen/2" block="SHBR"  >
            </Placement>
            
            <Create block="SHBK"  />

            pos=sshi_YDist+sshi_RailHei+sshi_PlatHei+sshi_BarHei 
            <Placement y="pos+sshi_BlocHei/2" x="sshi_XDist" z="(smai_ZMin-smai_ZMax)/2+smai_FixThk+sshi_BlocLen/2" block="SHBK"  >
            </Placement>
            

            <Create block="SHFX"  />
            <Placement y="pos+sshi_BlocHei/2+sshi_BoltOff*cos(degrad*45)" x="sshi_XDist-sshi_BoltOff*sin(degrad*45)" z="(smai_ZMin-smai_ZMax)/2+smai_FixThk/2" block="SHFX"  >
                <Rotation alphaz="45"  />
            </Placement>
            

            <Create block="SHST"  />
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei/2" x="sshi_XDist-sshi_PlatThk/2-sshi_StabWid/2" z="(smai_ZMin-smai_ZMax)/2+sshi_Stab1Z" block="SHST"  >
            </Placement>
            
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei/2" x="sshi_XDist+sshi_PlatThk/2+sshi_StabWid/2" z="(smai_ZMin-smai_ZMax)/2+sshi_Stab1Z" block="SHST"  >
            </Placement>
            
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei/2" x="sshi_XDist-sshi_PlatThk/2-sshi_StabWid/2" z="(smai_ZMin-smai_ZMax)/2+sshi_Stab2Z" block="SHST"  >
            </Placement>
            
            <Placement y="sshi_YDist+sshi_RailHei+sshi_PlatHei/2" x="sshi_XDist+sshi_PlatThk/2+sshi_StabWid/2" z="(smai_ZMin-smai_ZMax)/2+sshi_Stab2Z" block="SHST"  >
            </Placement>
            

        </Block>
        


        <Block name="SHRL" comment="is the upper FTPC support rail"  >

            <Material name="aluminium"  />
            <Attribute for="SHRL" seen="1" colo="2"  />
            <Shape type="BOX" dz="(smai_ZMax-smai_ZMin)/2" dx="sshi_RailWid/2" dy="sshi_RailHei/2"  />

        </Block>
        


        <Block name="SHPT" comment="is the upper FTPC support main plate"  >

            shptpos=((smai_ZMax-smai_ZMin)/2-(sshi_BarOffZ+sshi_BarLen/2)) 
            angle=atan(shptpos/sshi_PlatHei) 

            <Material name="aluminium"  />
            <Attribute for="SHPT" seen="1" colo="2"  />
            <Shape type="TRAP" tl2="sshi_BarLen/2" phi="0" alp2="angle/degrad" h2="sshi_PlatHei/2" h1="sshi_PlatHei/2" bl1="(smai_ZMax-smai_ZMin)/2" tl1="sshi_BarLen/2" alp1="angle/degrad" dz="sshi_PlatThk/2" thet="0" bl2="(smai_ZMax-smai_ZMin)/2"  />

        </Block>
        


        <Block name="SHBR" comment="is the upper FTPC support top bar"  >

            <Material name="aluminium"  />
            <Attribute for="SHBR" seen="1" colo="2"  />
            <Shape type="BOX" dz="sshi_BarLen/2" dx="sshi_TopWid/2" dy="sshi_BarHei/2"  />

        </Block>
        


        <Block name="SHBK" comment="is the upper FTPC support top block"  >


            <Material name="aluminium"  />
            <Attribute for="SHBK" seen="1" colo="2"  />
            <Shape type="BOX" dz="sshi_BlocLen/2" dx="sshi_TopWid/2" dy="sshi_BlocHei/2"  />

        </Block>
        


        <Block name="SHFX" comment="is the upper FTPC support fixture plate"  >

        <Mixture name="G10" dens="1.7"  >
            <Component name="Si" a="28.08" z="14" w="0.6*1*28./60."  />
            <Component name="O" a="16" z="8" w="0.6*2*16./60. + 0.4*4*16./174."  />
            <Component name="C" a="12" z="6" w="0.4*8*12./174."  />
            <Component name="H" a="1"  z="1" w="0.4*14*1./174."  />
        </Mixture>
            
            <Attribute for="SHFX" seen="1" colo="3"  />
            <Shape type="BOX" dz="smai_FixThk/2" dx="smai_FixWid/2" dy="smai_FixHei/2"  />

        </Block>
        


        <Block name="SHST" comment="are the upper FTPC support stabilizers"  >

            <Material name="aluminium"  />
            <Attribute for="SHBK" seen="1" colo="2"  />
            <Shape type="BOX" dz="sshi_StabThk/2" dx="sshi_StabWid/2" dy="sshi_PlatHei/2"  />

        </Block>
        

    </Module>
    

</Document>

